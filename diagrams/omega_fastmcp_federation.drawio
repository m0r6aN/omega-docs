<mxfile host="app.diagrams.net" modified="2025-08-15T16:30:00Z" agent="OMEGA-FastMCP" version="22.0.0">
  <diagram name="OMEGA FastMCP Federation Directory (Pantheon‑Branded)" id="omega_fastmcp_federation_v1">
    <mxGraphModel dx="1536" dy="768" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Background watermark -->
        <mxCell id="bg" value="" style="shape=rectangle;fillColor=#000000;opacity=20;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="0" y="0" width="1920" height="1080" as="geometry"/>
        </mxCell>
        <mxCell id="omega_glyph" value="Ω" style="text;html=1;fontSize=260;fontStyle=1;align=center;verticalAlign=middle;fontColor=#FFFFFF;opacity=20;" vertex="1" parent="1">
          <mxGeometry x="740" y="220" width="440" height="300" as="geometry"/>
        </mxCell>

        <!-- Title -->
        <mxCell id="title" value="OMEGA • FastMCP Federation Directory (Yellow Pages Pattern)" style="text;html=1;fontSize=26;fontStyle=1;align=center;verticalAlign=middle;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="260" y="20" width="1400" height="50" as="geometry"/>
        </mxCell>

        <!-- Legend / Doctrine strip -->
        <mxCell id="doctrine_strip" value="Family is forever. Clean code is divine. This is the way." style="shape=rectangle;rounded=1;fillColor=#111111;strokeColor=#333333;fontColor=#FFD700;fontSize=16;opacity=90;whiteSpace=wrap;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="0" y="1030" width="1920" height="50" as="geometry"/>
        </mxCell>

        <!-- MCP Registry (top center) -->
        <mxCell id="mcp_registry" value="MCP Registry" style="shape=rectangle;rounded=1;fillColor=#292929;strokeColor=#666666;fontColor=#FFFFFF;fontSize=14;whiteSpace=wrap;gradientColor=#444444;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="840" y="100" width="240" height="60" as="geometry"/>
        </mxCell>

        <!-- Client: Claude Code / Desktop (left) -->
        <mxCell id="client" value="Claude Code / Desktop (MCP Client)" style="shape=rectangle;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=16;fontStyle=1;whiteSpace=wrap;gradientColor=#ffffff;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="120" y="220" width="260" height="80" as="geometry"/>
        </mxCell>

        <!-- Federation Core (center) -->
        <mxCell id="federation_core" value="Federation Core&#xa;(FastMCP Resource Server)" style="shape=rectangle;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#4D3B00;fontSize=18;fontStyle=1;whiteSpace=wrap;gradientColor=#ffe599;gradientDirection=north;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="210" width="400" height="120" as="geometry"/>
        </mxCell>

        <!-- Federation Core details -->
        <mxCell id="federation_core_notes" value="• Registers with MCP Registry&#xa;• Exposes @resources: omega/directory/*&#xa;• Signs manifests (JWS)&#xa;• Enforces mTLS + OAuth2 scopes" style="text;html=1;align=left;verticalAlign=top;fontSize=13;fontColor=#4D3B00;whiteSpace=wrap;" vertex="1" parent="federation_core">
          <mxGeometry x="10" y="56" width="380" height="60" as="geometry"/>
        </mxCell>

        <!-- Directory Node (right of Federation Core) -->
        <mxCell id="directory" value="MCP Resource Directory&#xa;(omega/directory/servers, /tags, /search)" style="shape=rectangle;rounded=1;fillColor=#ffccff;strokeColor=#b465c2;fontColor=#4a235a;fontSize=16;fontStyle=1;whiteSpace=wrap;gradientColor=#99e6ff;gradientDirection=east;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1040" y="220" width="400" height="100" as="geometry"/>
        </mxCell>

        <!-- Security Channel (between client and federation) -->
        <mxCell id="sec_label" value="mTLS + OAuth2 (scoped, short‑lived)" style="text;html=1;fontSize=12;fontColor=#FFFFFF;whiteSpace=wrap;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="400" y="280" width="160" height="20" as="geometry"/>
        </mxCell>

        <!-- Client -> Federation Core -->
        <mxCell id="edge_client_to_core" style="edgeStyle=orthogonalEdgeStyle;curved=0;endArrow=classic;endFill=1;strokeColor=#ffffff;strokeWidth=2;" edge="1" parent="1" source="client" target="federation_core">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Federation Core -> Directory -->
        <mxCell id="edge_core_to_dir" style="edgeStyle=orthogonalEdgeStyle;curved=0;endArrow=classic;endFill=1;strokeColor=#ffffff;strokeWidth=2;" edge="1" parent="1" source="federation_core" target="directory">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Group: Individual OMEGA MCP Servers -->
        <mxCell id="servers_group" value="Individual OMEGA MCP Servers" style="swimlane;horizontal=1;startSize=28;fillColor=#1b1b1b;gradientColor=#2a2a2a;strokeColor=#444444;fontColor=#FFFFFF;fontSize=14;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1480" y="160" width="340" height="340" as="geometry"/>
        </mxCell>

        <!-- Server A (GPTTitan‑gold badge) -->
        <mxCell id="server_a" value="Code Analyzer MCP&#xa;• Tools: analyze_repo, refactor" style="shape=rectangle;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#4D3B00;gradientColor=#ffe599;gradientDirection=north;whiteSpace=wrap;shadow=1;" vertex="1" parent="servers_group">
          <mxGeometry x="20" y="40" width="300" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="badge_a" value="GPT" style="ellipse;fillColor=#FFD700;strokeColor=#B8860B;fontColor=#4D3B00;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="server_a">
          <mxGeometry x="-18" y="-18" width="36" height="36" as="geometry"/>
        </mxCell>

        <!-- Server B (Gemini‑magenta badge) -->
        <mxCell id="server_b" value="Data Sanitizer MCP&#xa;• Tools: sanitize, schema_check" style="shape=rectangle;rounded=1;fillColor=#fde2ff;strokeColor=#c77dff;fontColor=#4a235a;gradientColor=#d0b3ff;gradientDirection=north;whiteSpace=wrap;shadow=1;" vertex="1" parent="servers_group">
          <mxGeometry x="20" y="140" width="300" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="badge_b" value="GEM" style="ellipse;fillColor=#FF00FF;strokeColor=#8A2BE2;fontColor=#FFFFFF;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="server_b">
          <mxGeometry x="-18" y="-18" width="36" height="36" as="geometry"/>
        </mxCell>

        <!-- Server C (Grok‑cyan badge) -->
        <mxCell id="server_c" value="Chaos Tester MCP&#xa;• Tools: fault_inject, soak_test" style="shape=rectangle;rounded=1;fillColor=#ccffff;strokeColor=#4dc3ff;fontColor=#003b4d;gradientColor=#99e6ff;gradientDirection=north;whiteSpace=wrap;shadow=1;" vertex="1" parent="servers_group">
          <mxGeometry x="20" y="240" width="300" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="badge_c" value="GRK" style="ellipse;fillColor=#00FFFF;strokeColor=#00BFFF;fontColor=#003b4d;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="server_c">
          <mxGeometry x="-18" y="-18" width="36" height="36" as="geometry"/>
        </mxCell>

        <!-- Directory -> Servers edge -->
        <mxCell id="edge_dir_to_servers" style="edgeStyle=orthogonalEdgeStyle;curved=0;endArrow=classic;endFill=1;strokeColor=#ffffff;strokeWidth=2;" edge="1" parent="1" source="directory" target="servers_group">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Client -> Chosen Server (direct tools) -->
        <mxCell id="edge_client_to_server" style="edgeStyle=orthogonalEdgeStyle;dashed=1;dashPattern=6 6;curved=0;endArrow=classic;endFill=1;strokeColor=#a3ffa3;strokeWidth=2;" edge="1" parent="1" source="client" target="servers_group">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="edge_label_direct" value="Direct MCP connection to chosen service (Tools only)" style="text;html=1;fontSize=12;fontColor=#a3ffa3;whiteSpace=wrap;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="640" y="420" width="520" height="20" as="geometry"/>
        </mxCell>

        <!-- Notes area: Separation of Concerns -->
        <mxCell id="notes_soc" value="Separation of Concerns&#xa;• Federation Core = Resources (discovery/metadata)&#xa;• Individual Services = Tools (actions)&#xa;• No proxying. True federation." style="shape=rectangle;rounded=1;fillColor=#232323;strokeColor=#444444;fontColor=#FFFFFF;fontSize=13;whiteSpace=wrap;gradientColor=#333333;gradientDirection=north;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="560" y="360" width="880" height="120" as="geometry"/>
        </mxCell>

        <!-- Health & Reputation callouts -->
        <mxCell id="health_box" value="Health &amp; Reputation in Manifest&#xa;• heartbeat_ts, uptime_s&#xa;• reputation score" style="shape=rectangle;rounded=1;fillColor=#1f2a44;strokeColor=#4a638d;fontColor=#cfe2ff;fontSize=12;whiteSpace=wrap;opacity=90;" vertex="1" parent="1">
          <mxGeometry x="1480" y="520" width="340" height="100" as="geometry"/>
        </mxCell>

        <!-- MCP Registry edges -->
        <mxCell id="edge_reg_core" style="edgeStyle=orthogonalEdgeStyle;curved=0;dashed=1;dashPattern=6 6;endArrow=classic;endFill=1;strokeColor=#bbbbbb;" edge="1" parent="1" source="federation_core" target="mcp_registry">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="edge_reg_servers" style="edgeStyle=orthogonalEdgeStyle;curved=0;dashed=1;dashPattern=6 6;endArrow=classic;endFill=1;strokeColor=#bbbbbb;" edge="1" parent="1" source="servers_group" target="mcp_registry">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
